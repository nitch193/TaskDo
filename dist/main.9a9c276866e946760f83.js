(()=>{"use strict";var e={d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){this.name=e.toLowerCase(),this.Tasks=t}function n(e){let t=[];for(let n=0;n<e.length;n++)t.push(e[n].name.toLowerCase());return t}function l(e){localStorage.setItem("allProjects",JSON.stringify(e))}function o(e,t,n){this.taskName=e,this.due=t,this.priority=n}function c(e){const t=document.createElement("div");t.className="task";const c=document.createElement("div");c.className="task-name";const d=document.createElement("div");d.className="task-control";const i=document.createElement("button");i.className="edit-task-btn",i.innerHTML="&#x1F589",i.onclick=function(){!function(e,t){r.classList.add("show-edit-task");let[c,d,i]=e.parentNode.previousSibling.textContent.split("/");r.children[0].value=c,r.children[1].value=d,r.children[2].value=i,r.children[3].onclick=function(){r.classList.remove("show-edit-task"),r.children[2].value&&r.children[1].value&&r.children[1].value&&(c=r.children[0].value,d=r.children[1].value,i=r.children[2].value,function(e,t,o){let c=t.parentNode.previousSibling.textContent.split("/")[0],d=t.parentNode.parentNode.parentNode.firstChild.textContent,i=n(o).indexOf(d);for(let t=0;t<o[i].Tasks.length;t++)o[i].Tasks[t].taskName===c&&(o[i].Tasks[t]=e);l(o),a(d,o)}(new o(c,d,i),e,t))}}(this,e)};const s=document.createElement("button");return s.className="delete-task",s.innerHTML="&#128465",s.onclick=function(){!function(e,t){let o=e.parentNode.parentNode.parentNode.firstChild.textContent,c=n(t).indexOf(o),d=t[c].Tasks,i=e.parentNode.previousSibling.textContent.split("/")[0],s=d.map((e=>e.taskName)).indexOf(i);d.splice(s,1),t[c].Tasks=d,l(t),a(o,t)}(this,e)},d.appendChild(i),d.appendChild(s),t.appendChild(c),t.appendChild(d),t}function a(e,t){if(n(t).includes(e)){!function(e){for(;e.childNodes.length>0;)e.removeChild(e.lastChild)}(s);let l=function(e,t){return e[n(e).indexOf(t)]}(t,e);const o=document.createElement("div");o.textContent=l.name,s.appendChild(o);for(let e=0;e<l.Tasks.length;e++){let n=c(t);n.firstChild.textContent=l.Tasks[e].taskName+"/"+l.Tasks[e].due+"/"+l.Tasks[e].priority,s.appendChild(n)}}}function d(e,o,c){const d=document.createElement("div");d.className="project";const s=document.createElement("div");s.className="project-name",s.onclick=function(){a(this.firstChild.textContent,o)},d.appendChild(s);const r=document.createElement("div");r.className="project-control";const p=document.createElement("div");r.appendChild(p);const m=document.createElement("div");m.classList.add("row","flex-spaces","child-borders"),p.appendChild(m);const h=document.createElement("label");h.classList.add("paper-btn"),h.htmlFor=`modal-${c}`,h.textContent="✍",m.appendChild(h);const f=document.createElement("input");f.classList.add("modal-state"),f.type="checkbox",f.id=`modal-${c}`,p.appendChild(f);const C=document.createElement("div");C.classList.add("modal"),p.appendChild(C);const v=document.createElement("label");v.classList.add("modal-bg"),v.htmlFor=`modal-${c}`,C.appendChild(v);const k=document.createElement("div");k.classList.add("modal-body"),C.appendChild(k);const N=document.createElement("label");N.classList.add("btn-close"),N.htmlFor=`modal-${c}`,N.innerHTML="X",k.appendChild(N);const g=document.createElement("div");g.classList.add("form-group"),k.appendChild(g);const x=document.createElement("label");x.htmlFor=`edit-project-input${c}`,g.appendChild(x);const b=document.createElement("input");b.type="text",b.placeholder="Proejct Name",b.id=`edit-project-input${c}`,g.appendChild(b);const E=document.createElement("button");E.className="ok",E.textContent="OK",g.appendChild(E),p.onclick=function(){let e=this.parentNode.previousSibling.textContent;console.log(e),"defaultproject"!==e&&(g.children[2].onclick=function(){const c=n(o).indexOf(e);if(console.log(c),!u.children[1].value.length)return;if(n(o).includes(u.children[1].value.toLowerCase()))return;let a=new t(g.children[1].value,o[c].Tasks);o[c]=a,l(o),i(p.parentNode.parentNode.parentNode,o)})};const j=document.createElement("button");return j.innerHTML="&#128465",j.className="delete-project",j.onclick=function(){"defaultproject"!==this.parentNode.previousSibling.textContent&&function(e,t){let o=e.parentNode.previousSibling.textContent,c=n(t).indexOf(o);t.splice(c,1),l(t),i(e.parentNode.parentNode.parentNode,t),a("defaultproject",t)}(this,o)},r.appendChild(j),d.appendChild(r),d}function i(e,t,n){!function(e){e.innerHTML=""}(e);for(let n=0;n<t.length;n++){let l=d(0,t,n);l.firstChild.textContent=t[n].name,e.append(l)}}e.d({},{pk:()=>u,Zr:()=>r,TC:()=>s});const s=document.querySelector(".tasks"),r=document.querySelector(".edit-task"),u=document.querySelector(".edit-project");!function(){const e=document.querySelector(".new-project"),c=document.querySelector(".new-task-form"),d=document.querySelector(".all-projects");let r="defaultproject";let u=[];null===localStorage.getItem("allProjects")?(u.push({name:"defaultproject",Tasks:[]}),localStorage.setItem("allProjects",JSON.stringify(u))):u=[...JSON.parse(localStorage.getItem("allProjects"))],function(e,t,c){e.children[6].addEventListener("click",(()=>{console.log(s),c=s.childNodes[0].textContent,console.log(c);let d=new o(e.children[1].value,e.children[3].value,e.children[5].value),i=n(t).indexOf(c);t[i].Tasks.push(d),l(t),a(c,t)}))}(c,u,r),i(d,u),a(r,u),function(e,o,c){o.children[2].addEventListener("click",(()=>{let a=o.children[1];if(!a.value.length)return;if(n(c).includes(a.value.toLowerCase()))return;let d=new t(a.value,[]);c.push(d),i(e,c),l(c)}))}(d,e,u)}()})();